---
layout: post
title:  linuxç¨‹åºåˆ†æå·¥å…·ä»‹ç»(ä¸€)â€”-â€/procâ€
categories: [Linux]
tags: [Linux]
description: ""
---

&emsp;&emsp;&emsp;&emsp;å†™åœ¨æœ€å‰é¢ï¼šåœ¨å¼€å§‹æœ¬æ–‡ä¹‹å‰ï¼Œç¬”è€…è®¤ä¸ºå…ˆæœ‰å¿…è¦ä»‹ç»ä¸€ä¸‹linuxä¸‹çš„manï¼Œ
å¦‚æœè¯»è€…æ‰‹å¤´ç”¨linuxç³»ç»Ÿï¼Œç›´æ¥åœ¨ç»ˆç«¯è¾“å…¥man manä¾¿å¯ä»¥çœ‹åˆ°è¯¦ç»†çš„è¯´æ˜ï¼Œæˆ‘åœ¨è¿™é‡Œç®€å•çš„æ€»ç»“ä¸€ä¸‹ï¼Œ
manå‘½ä»¤æ˜¯ç”¨æ¥æŸ¥çœ‹linuxä¸‹å„ç§å‘½ä»¤ã€å·¥å…·ç­‰çš„ç”¨æˆ·æ‰‹å†Œ(manual)çš„ã€‚ä¸€ç§æ¯”è¾ƒå¸¸ç”¨çš„ç”¨æ³•æ˜¯â€man n fieldâ€ï¼Œ
è¿™é‡Œçš„næ˜¯è¦æŸ¥æ‰¾çš„æ‰‹å†Œäº†ç±»å‹ï¼Œfieldæ˜¯å…³é”®å­—ã€‚åœ¨è¿™é‡Œä»‹ç»ä¸€ä¸‹nï¼š

* 0 /usr/includeä¸‹çš„å¤´æ–‡ä»¶
* 1 å¯æ‰§è¡Œç¨‹åºå’Œshellå‘½ä»¤
* 2 ç³»ç»Ÿè°ƒç”¨
* 3 ç³»ç»Ÿåº“å‡½æ•°
* 4 /devä¸‹çš„ç‰¹æ®Šæ–‡ä»¶
* 5 æ–‡ä»¶æ ¼å¼å’Œçº¦å®šï¼ˆæ¯”å¦‚/etc/passwd)
* 6 æ¸¸æˆ
* 7 å…¶å®ƒ
* 8 ä»…rootå¯ç”¨çš„ç³»ç»Ÿç®¡ç†å‘½ä»¤
* 9 å†…æ ¸ç›¸å…³çš„å†…å®¹

&emsp;&emsp;&emsp;&emsp;é€šå¸¸æƒ…å†µä¸‹ï¼Œå¦‚æœä¸åŠ nçš„è¯ï¼Œç³»ç»Ÿä¼šæŒ‰ä¸€å®šçš„é¡ºåºï¼Œæœ‰æ—¶å€™å¾—åˆ°çš„å¯èƒ½ä¸æ˜¯ä½ æƒ³è¦çš„ï¼Œ
è¿™æ—¶å€™å°±éœ€è¦åŠ ä¸Šnäº†ï¼Œè¿™å°±æ˜¯æˆ‘è¦ä»‹ç»nçš„ç›®çš„ã€‚æ¯”å¦‚ï¼Œä½ man printfï¼Œç³»ç»Ÿè¿”å›çš„è‚¯å®šæ˜¯shellå‘½ä»¤printfï¼Œ
ä½ è¦çœ‹åº“å‡½æ•°printfæ€ä¹ˆåŠå‘¢ï¼Œé‚£å°±man 3 printfï¼Œthatâ€™s ok

&emsp;&emsp;&emsp;&emsp;ä¸‹é¢è¿›å…¥ä»Šå¤©çš„æ­£é¢˜ï¼Œ/procæ˜¯linuxç³»ç»Ÿä¸ºæˆ‘ä»¬ç”¨æˆ·æä¾›çš„ä¸€ä¸ªå¯ä»¥ç”¨æ¥è®¿é—®
ç³»ç»Ÿç›¸å…³æ•°æ®åŠä¿¡æ¯çš„ä¸€ä¸ªä¼ªæ–‡ä»¶ ç³»ç»Ÿï¼Œé€šè¿‡å®ƒæˆ‘ä»¬ä¸ä»…å¯ä»¥è·å–æŒ‡å®šæŸä¸ªè¿›ç¨‹çš„ç›¸å…³ä¿¡æ¯ï¼Œ
è¿˜å¯ä»¥è·å–ç³»ç»Ÿæ•´ä½“çš„è¿è¡Œæƒ…å†µåŠä¿¡æ¯ã€‚å› ä¸ºæœ¬æ–‡è®²çš„æ˜¯åˆ†æç¨‹åºçš„å·¥å…·ï¼Œæ‰€ä»¥æœ¬æ–‡å°†ä¾§é‡ä»‹ç»é€šè¿‡
/procæ¥åˆ†æç¨‹åºæœ¬èº«ï¼Œå…³äºå¦‚ä½•é€šè¿‡/procæ¥æŸ¥çœ‹ç³»ç»Ÿç›¸å…³ä¿¡æ¯ï¼Œå¯ä»¥é€šè¿‡man 5 procæ¥çœ‹
ï¼ˆè¿™ä¹Ÿæ˜¯æˆ‘å¼€å§‹å°±è®²mançš„ä¸€ä¸ªåŸå›  ğŸ˜› ï¼‰ã€‚

* /proc/[number]/cmdline ç¨‹åºå‘½ä»¤è¡Œå‚æ•°ï¼Œä»¥â€™\0â€™åˆ†éš”çš„å­—ç¬¦ä¸²æ–‡ä»¶ï¼ˆåœ¨ç¨‹åºä¸­ï¼Œå¯ä»¥é€šè¿‡ç›´æ¥è¯»æ­¤æ–‡ä»¶ï¼Œ
è·å–ç¨‹åºçš„å‘½ä»¤è¡Œå‚æ•°ï¼Œä½†ä¸æ¨èè¿™ä¹ˆåšï¼Œè¿™æ ·åšäº†ç¨‹åºçš„å¯ç§»æ¤æ€§ä¸å¥½ ğŸ˜¥ ï¼‰
* /proc/[number]/cwd     ç¨‹åºçš„å½“å‰å·¥ä½œè·¯å¾„çš„è½¯é“¾æ¥(readlinkå°±å¯ä»¥å¾—åˆ°è¢«é“¾æ¥çš„ç›®å½•)
* /proc/[number]/environ ç¨‹åºçš„å½“å‰ç¯å¢ƒå˜é‡ï¼Œä»¥â€™\0â€™åˆ†éš”çš„å­—ç¬¦ä¸²æ–‡ä»¶
* /proc/[number]/exe     ç¨‹åºçš„å¯æ‰§è¡Œæ–‡ä»¶çš„è½¯é“¾æ¥ï¼ˆé€šè¿‡readlinkå¯ä»¥è·å–ç¨‹åºå¯æ‰§è¡Œæ–‡ä»¶çš„å®Œæ•´è·¯å¾„ï¼‰
* /proc/[number]/fd      ç¨‹åºå½“å‰æ­£åœ¨ä½¿ç”¨çš„fdï¼Œè¿™äº›fdéƒ½é“¾å‘å®é™…çš„æ–‡ä»¶
* /proc/[number]/maps    ç¨‹åºçš„åœ°å€ç©ºé—´åˆ†å¸ƒå’Œè®¿é—®æƒé™ï¼ˆé€šè¿‡è¿™äº›ä¿¡æ¯ï¼Œå¯ä»¥æŸ¥çœ‹è¿›ç¨‹çš„åœ°å€æ˜¯å¦åœ¨åˆæ³•

```
1  address           perms offset  dev   inode      pathname
2  08048000-08056000 r-xp 00000000 03:0c 64593      /usr/sbin/gpm
3  08056000-08058000 rw-p 0000d000 03:0c 64593      /usr/sbin/gpm
4  08058000-0805b000 rwxp 00000000 00:00 0
5  40000000-40013000 r-xp 00000000 03:0c 4165       /lib/ld-2.2.4.so
6  40013000-40015000 rw-p 00012000 03:0c 4165       /lib/ld-2.2.4.so
7  4001f000-40135000 r-xp 00000000 03:0c 45494      /lib/libc-2.2.4.so
8  40135000-4013e000 rw-p 00115000 03:0c 45494      /lib/libc-2.2.4.so
9  4013e000-40142000 rw-p 00000000 00:00 0
10 bffff000-c0000000 rwxp 00000000 00:00 0
```

* /proc/[number]/smaps (since Linux 2.6.14) ç¨‹åºçš„æ¯å—å†…å­˜æ˜ å°„åŒºåŸŸçš„å†…å­˜ä½¿ç”¨æƒ…å†µ

```
1  08048000-080bc000 r-xp 00000000 03:02 13130 /bin/bash    #ä¸mapsä¸­çš„ç›¸åŒ
2  Size:               464 kB                       #æ˜ å°„åŒºçš„å¤§å°
3  Rss:                424 kB                       #å®é™…åœ¨å†…å­˜ä¸­çš„å¤§å°
4  Shared_Clean:       424 kB 
5  Shared_Dirty:         0 kB
6  Shared_Dirty:         0 kB
7  4Private_Dirty:        0 kB
```

* /proc/[number]/stat ç¨‹åºçš„çŠ¶æ€ä¿¡æ¯ï¼Œpså‘½ä»¤å¾—åˆ°çš„ç¨‹åºä¿¡æ¯å°±æ˜¯ä»æ­¤å¤„è·å–çš„ï¼Œå› æ­¤è¯¦ç»†çš„å› å®¹å¯ä»¥pså‘½ä»¤
* /proc/[number]/statm ç¨‹åºçš„å†…å­˜é¡µ(page)çŠ¶æ€

```
1 size       total program size
2 resident   resident set size
3 share      shared pages
4 text       text (code)
5 lib        library
6 data       data/stack
7 dt         dirty pages (unused in Linux 2.6)
```

{% highlight ruby %}
æ–‡æ¡£ä¿¡æ¯
--------------
* ç‰ˆæƒå£°æ˜ï¼šè‡ªç”±è½¬è½½-éå•†ç”¨
* è½¬è½½: [Markdownç®€æ˜æ•™ç¨‹]
{% endhighlight %}

[Markdownç®€æ˜æ•™ç¨‹](http://www.ruanyifeng.com/blog/2014/06/git_remote.html)

[jekyll]:      http://jekyllrb.com
[jekyll-gh]:   https://github.com/jekyll/jekyll
[jekyll-help]: https://github.com/jekyll/jekyll-help
